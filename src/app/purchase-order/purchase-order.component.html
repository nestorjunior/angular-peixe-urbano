<div class="container">
  <div class="ordem-compra" *ngIf="idPedidoCompra === undefined">
      <form [formGroup]="formulario" (ngSubmit)="confirmarCompra()">

          <h5>Sua Compra</h5>
          <hr />

          <div class="form-row form-bg" *ngFor="let item of itensCarrinho">
              <div class="form-group col-sm-1">
                  <img [src]="item.img.url" class="img-fluid">
              </div>
              <div class="form-group col-sm-6">
                 {{ item.titulo }}
                  <br />
                  {{ item.descricaoOferta }}
              </div>

              <div>
                  <div class="row">
                      <div class="col">
                          <button type="button" class="btn btn-link">-</button>
                          {{ item.quantidade }}
                          <button type="button" class="btn btn-link">+</button>
                      </div>
                  </div>
              </div>

              <div class="form-group col-sm-3 d-flex justify-content-end">
                  {{ item.quantidade * item.valor | currency: 'BRL': true }}
              </div>
          </div>

          <div class="form-row">
              <div class="form-group col d-flex justify-content-end">
                  <h4>Total do pedido: {{ carrinhoService.totalCarrinhoCompras() | currency: 'BRL': true }}</h4>
              </div>
          </div>
          <br />

          <h5>Dados de entrega</h5>
          <hr />

          <div class="form-row">

              <div class="form-group col-md-6">
                  <input formControlName="endereco" type="text" class="form-control" placeholder="Endereço" minlength="3" maxlength="120" required>
              </div>

              <div class="form-group col-md-2">
                  <input formControlName="numero" type="text" class="form-control" placeholder="Número" minlength="1" maxlength="120" required>
              </div>

              <div class="form-group col-md-4">
                  <input formControlName="complemento" type="text" class="form-control" placeholder="Complemento">
              </div>

          </div>
          <br />

          <h5>Dados de pagamento</h5>
          <hr />

          <div class="form-row">

              <div class="form-group col-md-3">
                  <select formControlName="formaPagamento" class="form-control" required>
                      <option value="">Selecione uma opção</option>
                      <option value="dinheiro">Dinheiro</option>
                      <option value="debito">Débito</option>
                  </select>
              </div>
          </div>

          <hr />
          <button type="submit" class="btn btn-primary btn-lg" [disabled]="!formulario.valid">Cofirmar compra</button>
      </form>
  </div>


  <div class="ordem-compra" *ngIf="idPedidoCompra !== undefined">
    <app-purchase-order-success [idPedidoCompraX]=idPedidoCompra></app-purchase-order-success>
  </div>

</div>
